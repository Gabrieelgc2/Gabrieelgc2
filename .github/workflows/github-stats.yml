name: Generate GitHub Stats SVG

on:
  schedule:
    - cron: "0 0 * * *" # di√°rio (UTC)
  workflow_dispatch:

jobs:
  generate:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Generate GitHub Stats SVG
        uses: anuraghazra/github-readme-stats@v0.9.0
        with:
          username: Gabrieelgc2
          theme: tokyonight
          show_icons: true
          include_all_commits: true
          count_private: true
          output: assets/github-stats.svg

      - name: Generate Top Languages SVG
        uses: anuraghazra/github-readme-stats@v0.9.0
        with:
          username: Gabrieelgc2
          theme: tokyonight
          layout: compact
          output: assets/top-langs.svg

      - name: Commit SVGs
        uses: EndBug/add-and-commit@v9
        with:
          message: "chore: update GitHub stats"
          add: "assets/*.svg"
